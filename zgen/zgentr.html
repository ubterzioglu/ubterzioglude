<!doctype html>
<html lang="tr">
<head>
  <!-- =========================================================
    BASIC META
  ========================================================== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ZGEN – Nesil Bulucu</title>

  <link rel="canonical" href="https://ubterzioglu.de/zgen/zgentr.html" />
  <meta name="description" content="Doğum yılınızı girin ve neslinizi, temel özelliklerinizi ve diğer nesillerle nasıl geçineceğinizi anında görün. Tamamen tarayıcınızda çalışır." />
  <meta name="robots" content="index,follow" />

  <!-- Standalone CSS -->
  <link rel="stylesheet" href="/zgen/style.css?v=6" />

  <!-- =========================================================
    OPEN GRAPH / TWITTER
  ========================================================== -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ZGEN – Nesil Bulucu" />
  <meta property="og:description" content="Doğum yılınızı yazın. Neslinizi + özelliklerinizi + uyumluluk ipuçlarınızı alın. Kayıt yok. Tarayıcınızda yerel olarak çalışır." />
  <meta property="og:url" content="https://ubterzioglu.de/zgen/zgentr.html" />
  <meta property="og:image" content="https://ubterzioglu.de/img/logoubt.png" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- =========================================================
    STRUCTURED DATA (JSON-LD)
  ========================================================== -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "@id": "https://ubterzioglu.de/zgen/zgentr.html#webpage",
    "url": "https://ubterzioglu.de/zgen/zgentr.html",
    "name": "ZGEN – Nesil Bulucu",
    "description": "Doğum yılınızı girin ve neslinizi, temel özelliklerinizi ve uyumluluk ipuçlarınızı anında görün. Tamamen tarayıcınızda çalışır.",
    "isPartOf": { "@type": "WebSite", "@id": "https://ubterzioglu.de/#website" },
    "about": { "@type": "Person", "@id": "https://ubterzioglu.de/#person" }
  }
  </script>

  <!-- =========================================================
    GOATCOUNTER
  ========================================================== -->
  <script data-goatcounter="https://ubterzioglude.goatcounter.com/count"
          async src="https://gc.zgo.at/count.js"></script>
</head>

<body>
  <div class="wrap">
    <div class="shell">

      <!-- HEADER -->
      <header class="hero">
        <div class="hero-left">
          <h1 class="title">ZGEN</h1>
          <p class="subtitle">
            Doğum yılınızı girin ve neslinizi, özelliklerinizi ve diğer nesillerle nasıl geçineceğinizi anında görün.
            Kayıt yok. Veri saklanmaz. Tarayıcınızda yerel olarak çalışır.
          </p>
        </div>

        <div class="hero-right">
          <div class="palette-dots" aria-label="Renk paleti">
            <span class="dot dot-blue" title="#01A1F1"></span>
            <span class="dot dot-green" title="#7CBB00"></span>
            <span class="dot dot-orange" title="#F65314"></span>
            <span class="dot dot-purple" title="#8F03B7"></span>
            <span class="dot dot-yellow" title="#FFBB00"></span>
          </div>
          <div class="pill" id="statusPill">Doğum yılı bekleniyor…</div>
        </div>
      </header>

      <main class="grid">

        <!-- CARD 1: INPUT -->
        <section class="card card-blue" aria-labelledby="c1">
          <div class="card-head">
            <h2 id="c1" class="card-title">1) Doğum yılı</h2>
            <p class="card-sub">Sadece bir alan. Ekstra soru yok.</p>
          </div>

          <div class="input-row">
            <label class="sr-only" for="birthYear">Doğum yılı</label>
            <input
              id="birthYear"
              class="input"
              inputmode="numeric"
              placeholder="Desteklenen doğum yılları: 1928–2100"
              maxlength="4"
              autocomplete="off"
            />
            <button class="btn" id="showBtn" type="button">Neslimi göster</button>
          </div>

          <p class="micro"> İpucu: Desteklenen doğum yılları: 1928–2100 -  <kbd>Enter</kbd> tuşuna da basabilirsiniz.</p>
        </section>


      




        <!-- CARD 2: YOU ARE GEN ... -->
        <section class="card card-green" id="youCard" aria-labelledby="c2" hidden>
          <div class="card-head">
            <h2 id="c2" class="card-title">2) Nesliniz</h2>
            <p class="card-sub" id="youGenLine">Siz <strong>Nesil ?</strong>.</p>
          </div>

          <div class="two-col">
            <!-- LEFT: 10 traits -->
            <div>
              <h3 class="mini-title" id="traitsTitle">Tipik özellikler</h3>
              <ul class="bullets" id="traits10">
                <!-- rendered by JS -->
              </ul>
            </div>

            <!-- RIGHT: male+female avatar + 5 vibes -->
            <aside class="sidebox">
              <div class="avatar-row">
                <div class="avatar-pair" aria-hidden="true">
                  <div class="avatar lg">
                    <img id="avatarYouM" class="avatar-img" src="/img/gen_placeholder_m.jpg" alt="" loading="lazy" decoding="async" />
                  </div>
                  <div class="avatar lg">
                    <img id="avatarYouF" class="avatar-img" src="/img/gen_placeholder_f.jpg" alt="" loading="lazy" decoding="async" />
                  </div>
                </div>

                <div>
                  <div class="avatar-title" id="avatarTitle">Havınız</div>
                  <div class="avatar-sub" id="avatarSub">Kısa, öz maddeler.</div>
                </div>
              </div>

              <ul class="chips" id="vibe5">
                <!-- rendered by JS -->
              </ul>
            </aside>
          </div>
        </section>

        <!-- COMPATIBILITY HEADER -->
        <section class="card card-orange" id="compatHeader" aria-labelledby="c3" hidden>
          <div class="card-head">
            <h2 id="c3" class="card-title">3) Uyumluluk (isteğe bağlı)</h2>
            <p class="card-sub">
              Genişletmek için bir karta dokunun. Yapılacaklar ve Yapılmayacaklar gerçek verileri yapıştırana kadar yer tutucudur.
            </p>
          </div>
        </section>

        <!-- ACCORDIONS (DYNAMIC) -->
        <section class="accordion" id="accordions" hidden></section>


  <!-- CARD 1.5: GENERATION CHART (always shows after typing) -->
<section class="card card-white genchart" id="genChart" aria-labelledby="cChart">
  <div class="card-head">
    <h2 id="cChart" class="card-title">Nesil tablosu</h2>
    <p class="card-sub">Hızlı referans: isimler, aralıklar ve avatarlar.</p>
  </div>

  <div class="genchart-grid">
    <!-- Silent -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_silent_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_silent_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">Sessiz Nesil</div>
        <div class="genchart-range">1928–1945</div>
      </div>
    </article>

    <!-- Boomers -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_boomer_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_boomer_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">Baby Boomers</div>
        <div class="genchart-range">1946–1964</div>
      </div>
    </article>

    <!-- Gen X -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_genx_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_genx_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">X Nesli</div>
        <div class="genchart-range">1965–1980</div>
      </div>
    </article>

    <!-- Gen Y -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_geny_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_geny_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">Y Nesli (Millennials)</div>
        <div class="genchart-range">1981–1996</div>
      </div>
    </article>

    <!-- Gen Z -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_genz_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_genz_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">Z Nesli</div>
        <div class="genchart-range">1997–2012</div>
      </div>
    </article>

    <!-- Alpha -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_alpha_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_alpha_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">Alpha Nesli</div>
        <div class="genchart-range">2013–2025</div>
      </div>
    </article>

    <!-- Beta -->
    <article class="genchart-item">
      <div class="avatar-pair" aria-hidden="true">
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_beta_m.jpg" alt="" loading="lazy" decoding="async" />
        </div>
        <div class="avatar lg">
          <img class="avatar-img" src="/img/gen_beta_f.jpg" alt="" loading="lazy" decoding="async" />
        </div>
      </div>
      <div class="genchart-meta">
        <div class="genchart-name">Beta Nesli</div>
        <div class="genchart-range">2026–2100</div>
      </div>
    </article>
  </div>
</section>





      </main>

      <!-- CORNER WIDGET -->
      <div class="corner-widget">
        <a href="https://ubterzioglu.de/">
          <img src="/img/logoubt.png" alt="UBT logosu" class="widget-avatar" />
        </a>
        <a href="https://ubterzioglu.de/">
          <img src="/img/picprofile.png" alt="UBT profili" class="widget-avatar logo" />
        </a>
      </div>

    </div>
  </div>

  <!-- DATA -->
  <script src="/zgen/zgen-data-tr.js?v=3"></script>

  <!-- APP LOGIC -->
  <script>
    const birthYearEl = document.getElementById("birthYear");
    const showBtn = document.getElementById("showBtn");

    const statusPill = document.getElementById("statusPill");
    const youCard = document.getElementById("youCard");
    const youGenLine = document.getElementById("youGenLine");

    const traitsTitle = document.getElementById("traitsTitle");
    const traits10El = document.getElementById("traits10");
    const vibe5El = document.getElementById("vibe5");

    const avatarTitle = document.getElementById("avatarTitle");
    const avatarSub = document.getElementById("avatarSub");

    const avatarYouM = document.getElementById("avatarYouM");
    const avatarYouF = document.getElementById("avatarYouF");

    const compatHeader = document.getElementById("compatHeader");
    const accordions = document.getElementById("accordions");

    const FALLBACK_M = "/img/gen_placeholder_m.jpg";
    const FALLBACK_F = "/img/gen_placeholder_f.jpg";

    function esc(str) {
      return String(str)
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    function renderList(ulEl, items) {
      ulEl.innerHTML = (items || []).map(x => `<li>${esc(x)}</li>`).join("");
    }

   function getGenByYear(year) {
  const gens = ZGEN_DATA?.generations || [];
  return gens.find(g => year >= g.range[0] && year <= g.range[1]) || null;
}


    function getProfile(genId) {
      // Expecting: ZGEN_DATA.profiles[genId] = { traits:[...10], vibes:[...5] }
      return ZGEN_DATA?.profiles?.[genId] || null;
    }

    function getCompat(youId, otherId) {
      const hit = ZGEN_DATA?.compat?.[youId]?.[otherId];
      return hit || {
        dos: ["Yapılacak #1 (yer tutucu)", "Yapılacak #2 (yer tutucu)", "Yapılacak #3 (yer tutucu)", "Yapılacak #4 (yer tutucu)", "Yapılacak #5 (yer tutucu)"],
        donts: ["Yapılmayacak #1 (yer tutucu)", "Yapılmayacak #2 (yer tutucu)", "Yapılmayacak #3 (yer tutucu)", "Yapılmayacak #4 (yer tutucu)", "Yapılmayacak #5 (yer tutucu)"],
        joke: "Yer tutucu şaka (isteğe bağlı)."
      };
    }

    function pickCardColorClass(i) {
      const arr = ["card-purple", "card-yellow", "card-blue", "card-green", "card-orange"];
      return arr[i % arr.length];
    }

    function avatarPairHTML(gen, sizeClass) {
      const m = gen.avatars?.m || FALLBACK_M;
      const f = gen.avatars?.f || FALLBACK_F;

      const altBase = gen.avatarAlt || gen.name || "Nesil avatarı";
      const altM = `${altBase} (erkek)`;
      const altF = `${altBase} (kadın)`;

      return `
        <div class="avatar-pair">
          <div class="avatar ${sizeClass}">
            <img class="avatar-img" src="${m}" alt="${esc(altM)}" loading="lazy" decoding="async" />
          </div>
          <div class="avatar ${sizeClass}">
            <img class="avatar-img" src="${f}" alt="${esc(altF)}" loading="lazy" decoding="async" />
          </div>
        </div>
      `;
    }

    function makeCard({ youGen, otherGen, content, colorClass }) {
  const card = document.createElement("article");
  card.className = `acc card ${colorClass}`;
  card.dataset.gen = otherGen.id;

  card.innerHTML = `
    <button class="acc-head" type="button" aria-expanded="false">
      <div class="acc-title">
        <span class="acc-kicker">Nasıl geçinilir</span>
        <span class="acc-name">${esc(otherGen.name)}</span>
      </div>
      <span class="acc-icon" aria-hidden="true">+</span>
    </button>

    <div class="acc-body" hidden>
      <div class="acc-avatars">
        ${avatarPairHTML(youGen, "xl")}

        <div class="gen-infinity" aria-hidden="true">∞</div>

        ${avatarPairHTML(otherGen, "xl")}

        <div class="avatar-tags">
          <span class="tag">Sen</span>
          <span class="tag">${esc(otherGen.name)}</span>
        </div>
      </div>

      <div class="acc-cols">
        <div class="dos">
          <h3 class="mini-title dos-title">✅ Yapılacaklar</h3>
          <ul class="bullets">
            ${(content.dos || []).map(x => `<li>${esc(x)}</li>`).join("")}
          </ul>
        </div>

        <div class="donts">
          <h3 class="mini-title donts-title">❌ Yapılmayacaklar</h3>
          <ul class="bullets">
            ${(content.donts || []).map(x => `<li>${esc(x)}</li>`).join("")}
          </ul>
        </div>
      </div>

      <p class="micro joke-line">"${esc(content.joke || "")}"</p>
    </div>
  `;

  const head = card.querySelector(".acc-head");
  const body = card.querySelector(".acc-body");
  const icon = card.querySelector(".acc-icon");

  head.addEventListener("click", () => {
    const isOpen = head.getAttribute("aria-expanded") === "true";
    head.setAttribute("aria-expanded", String(!isOpen));
    body.hidden = isOpen;
    icon.textContent = isOpen ? "+" : "–";
  });

  return card;
}


    function renderCompatibility(youGen) {
      accordions.innerHTML = "";
      const others = (ZGEN_DATA?.generations || []).filter(g => g.id !== youGen.id);

      // If you later want: only show gens where compat exists, change the filter here.
      others.forEach((other, idx) => {
        const content = getCompat(youGen.id, other.id);
        const colorClass = pickCardColorClass(idx);
        accordions.appendChild(makeCard({ youGen, otherGen: other, content, colorClass }));
      });
    }

    function setYouAvatars(gen) {
      const m = gen.avatars?.m || FALLBACK_M;
      const f = gen.avatars?.f || FALLBACK_F;

      avatarYouM.src = m;
      avatarYouF.src = f;

      // Decorative inside card 2 (title already says which gen).
      avatarYouM.alt = "";
      avatarYouF.alt = "";
    }

    function renderProfile(gen) {
      const profile = getProfile(gen.id);

      if (profile?.traits?.length) {
        traitsTitle.textContent = "Tipik özellikler";
        renderList(traits10El, profile.traits);
      } else {
        traitsTitle.textContent = "Tipik özellikler (yer tutucu)";
        renderList(traits10El, [
          "Özellik #1 (yer tutucu)",
          "Özellik #2 (yer tutucu)",
          "Özellik #3 (yer tutucu)",
          "Özellik #4 (yer tutucu)",
          "Özellik #5 (yer tutucu)",
          "Özellik #6 (yer tutucu)",
          "Özellik #7 (yer tutucu)",
          "Özellik #8 (yer tutucu)",
          "Özellik #9 (yer tutucu)",
          "Özellik #10 (yer tutucu)"
        ]);
      }

      if (profile?.vibes?.length) {
        avatarTitle.textContent = "Havınız";
        avatarSub.textContent = "Hızlı özet maddeler.";
        renderList(vibe5El, profile.vibes);
      } else {
        avatarTitle.textContent = `${gen.name} havası (yer tutucu)`;
        avatarSub.textContent = "Bunları daha sonra gerçek içerikle dolduracağız.";
        renderList(vibe5El, [
          "Hava #1 (yer tutucu)",
          "Hava #2 (yer tutucu)",
          "Hava #3 (yer tutucu)",
          "Hava #4 (yer tutucu)",
          "Hava #5 (yer tutucu)"
        ]);
      }
    }

    function updateUI() {
  const raw = (birthYearEl.value || "").trim();
  const year = Number(raw);

  // Only accept years that map to the generations you defined
  const valid =
    raw.length === 4 &&
    Number.isInteger(year) &&
    year >= 1928 &&
    year <= 2100;

  if (!valid) {
    statusPill.textContent = "Desteklenen doğum yılları: 1928–2100";
    youCard.hidden = true;
    compatHeader.hidden = true;
    accordions.hidden = true;
    return;
  }

  const youGen = getGenByYear(year);

  // If data isn't loaded OR ranges are wrong, don't silently fall back
  if (!youGen) {
    statusPill.textContent = "Desteklenen doğum yılları: 1928–2100";
    youCard.hidden = true;
    compatHeader.hidden = true;
    accordions.hidden = true;
    return;
  }

  statusPill.textContent = `Tespit edildi: ${youGen.name}`;
  youGenLine.innerHTML = `Siz <strong>${esc(youGen.name)}</strong>.`;
  
  setYouAvatars(youGen);
  renderProfile(youGen);

  renderCompatibility(youGen);

  youCard.hidden = false;
  compatHeader.hidden = false;
  accordions.hidden = false;
}


    showBtn.addEventListener("click", updateUI);
    birthYearEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") updateUI();
    });
    birthYearEl.addEventListener("input", updateUI);
  </script>
</body>
</html>
