<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ZEDITOR — Explorer Data Generator</title>




  <!-- Optional: keep this page out of search engines -->
  <meta name="robots" content="noindex,nofollow" />

  <link rel="stylesheet" href="/ubt-shared.css" />

  <style>
    :root{
      --bg:#0b1020;
      --card:#111a33;
      --text:#e9eefc;
      --muted:#a9b4d6;
      --line:rgba(255,255,255,.12);
      --btn:#1d2a55;
      --btn2:#233166;
      --ok:rgba(73,209,125,.18);
      --warn:rgba(255,193,7,.18);
      --bad:rgba(255,107,107,.16);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(900px 600px at 20% 10%, rgba(97,124,255,.18), transparent 60%),
                  radial-gradient(900px 600px at 80% 30%, rgba(73,209,125,.14), transparent 60%),
                  var(--bg);
      color:var(--text);
    }
    .wrap{max-width:980px;margin:0 auto;padding:18px}
    .hero{
      border:1px solid var(--line);
      background: rgba(17,26,51,.65);
      border-radius:16px;
      padding:16px;
    }
    h1{margin:0 0 6px 0;font-size:18px}
    .sub{opacity:.75;font-size:13px;line-height:1.35}
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      margin-top:12px;
    }
    @media(min-width: 920px){
      .grid{grid-template-columns: 1fr 1fr;}
    }
    .card{
      border:1px solid var(--line);
      background: rgba(17,26,51,.65);
      border-radius:16px;
      padding:14px;
    }
    label{display:block;font-size:12px;opacity:.8;margin:10px 0 6px}
    input, select, textarea{
      width:100%;
      background: rgba(0,0,0,.18);
      border:1px solid var(--line);
      border-radius:12px;
      padding:10px 10px;
      color:var(--text);
      outline:none;
    }
    textarea{min-height:120px;resize:vertical}
    .row{display:grid;grid-template-columns: 1fr; gap:10px}
    @media(min-width: 560px){ .row{grid-template-columns: 1fr 1fr;} }
    .btns{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px;align-items:center}
    button{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(35,49,102,.9), rgba(29,42,85,.9));
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
    }
    button.secondary{background: rgba(0,0,0,.18)}
    .pill{
      display:inline-block;
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--line);
      opacity:.9;
      white-space:nowrap;
    }
    .pill.ok{background:var(--ok)}
    .pill.warn{background:var(--warn)}
    .pill.bad{background:var(--bad)}
    .tiny{font-size:12px;opacity:.75;line-height:1.35}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;}
  </style>






</head>
<body>
  <div class="wrap">
    <div class="hero">
      <h1>ZEDITOR — Explorer Data Generator</h1>
      <div class="sub">
        Fill the form → generate the exact object for <span class="mono">window.EXPLORER_DATA</span>.
        Date format: <b>DD-MM-YYYY</b>. Copy & paste into <span class="mono">explorer-data.js</span>.
      </div>
    </div>

    <div class="grid">
      <!-- LEFT: FORM -->
      <div class="card">
        <div class="row">
          <div>
            <label>Type</label>
            <select id="type">
              <option value="articles">articles</option>
              <option value="tools">tools</option>
              <option value="bookmarks">bookmarks</option>
              <option value="updates">updates</option>
              <option value="apps">apps</option>
            </select>
          </div>
          <div>
            <label>Date (DD-MM-YYYY) — for articles/updates</label>
            <input id="date" placeholder="14-12-2025" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>Title</label>
            <input id="title" placeholder="Title..." />
          </div>
          <div>
            <label>ID (auto from title, editable)</label>
            <input id="id" placeholder="auto-generated-id" class="mono" />
          </div>
        </div>

        <div class="row">
          <div>
            <label>Image path (img)</label>
            <input id="img" placeholder="/img/z0tool0030.jpg" class="mono" />
          </div>
          <div>
            <label>Link (href)</label>
            <input id="href" placeholder="https://..." class="mono" />
          </div>
        </div>

        <div id="pinnedWrap" style="display:none;margin-top:8px">
          <label style="display:flex;align-items:center;gap:10px;margin:8px 0 0">
            <input id="pinned" type="checkbox" style="width:auto" />
            pinned (updates only)
          </label>
        </div>

        <div id="noteWrap">
          <label>Note (tools / bookmarks / apps)</label>
          <textarea id="note" placeholder="Short note..."></textarea>
        </div>

        <div id="textWrap" style="display:none">
          <label>Text (articles / updates)</label>
          <textarea id="text" placeholder="Longer text... (supports blank lines)"></textarea>
        </div>

        <div class="btns">
          <button id="gen">Generate</button>
          <button id="copy" class="secondary">Copy</button>
          <button id="clear" class="secondary">Clear</button>
          <span id="status" class="pill warn">Ready</span>
        </div>

        <div class="tiny" style="margin-top:10px">
          Tip: title yazınca ID otomatik gelir. İstersen ID’yi elle değiştir.<br/>
          “tools/apps/bookmarks” için <b>note</b>, “articles/updates” için <b>text</b> kullan.
        </div>
      </div>

      <!-- RIGHT: OUTPUT -->
      <div class="card">
        <label>Output (object)</label>
        <textarea id="out" class="mono" placeholder="{ ... }"></textarea>

        <div class="tiny" style="margin-top:10px">
          Copy → <span class="mono">explorer-data.js</span> içinde ilgili array’e yapıştır.
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  const $ = (id) => document.getElementById(id);

  const typeEl = $("type");
  const dateEl = $("date");
  const titleEl = $("title");
  const idEl = $("id");
  const imgEl = $("img");
  const hrefEl = $("href");
  const noteEl = $("note");
  const textEl = $("text");
  const pinnedWrap = $("pinnedWrap");
  const pinnedEl = $("pinned");
  const noteWrap = $("noteWrap");
  const textWrap = $("textWrap");
  const outEl = $("out");
  const statusEl = $("status");

  function pad2(n){ return String(n).padStart(2,"0"); }
  function todayDDMMYYYY(){
    const d = new Date();
    return pad2(d.getDate()) + "-" + pad2(d.getMonth()+1) + "-" + d.getFullYear();
  }

  function isValidDDMMYYYY(s){
    if(!/^\d{2}-\d{2}-\d{4}$/.test(s)) return false;
    const [dd,mm,yyyy] = s.split("-").map(Number);
    if(yyyy < 2000 || yyyy > 2100) return false;
    if(mm < 1 || mm > 12) return false;
    if(dd < 1 || dd > 31) return false;
    return true;
  }

  function slugify(str){
    const map = {
      "ç":"c","Ç":"c","ğ":"g","Ğ":"g","ı":"i","İ":"i",
      "ö":"o","Ö":"o","ş":"s","Ş":"s","ü":"u","Ü":"u"
    };
    const s = (str || "").trim().replace(/[çÇğĞıİöÖşŞüÜ]/g, ch => map[ch] || ch);
    return s
      .toLowerCase()
      .replace(/&/g, " and ")
      .replace(/[^a-z0-9]+/g, "-")
      .replace(/^-+|-+$/g, "")
      .replace(/-{2,}/g, "-");
  }

  function escapeJsString(s){
    return String(s ?? "")
      .replace(/\\/g, "\\\\")
      .replace(/"/g, '\\"')
      .replace(/\r\n/g, "\n")
      .replace(/\r/g, "\n");
  }

  function setStatus(kind, text){
    statusEl.className = "pill " + kind;
    statusEl.textContent = text;
  }

  function updateFieldVisibility(){
    const t = typeEl.value;

    pinnedWrap.style.display = "none";
    noteWrap.style.display = "none";
    textWrap.style.display = "none";

    if(t === "updates"){
      pinnedWrap.style.display = "";
      textWrap.style.display = "";
    } else if(t === "articles"){
      textWrap.style.display = "";
    } else {
      noteWrap.style.display = "";
    }
  }

  function buildObject(){
    const t = typeEl.value;

    const title = titleEl.value.trim();
    let id = idEl.value.trim();
    const img = imgEl.value.trim();
    const href = hrefEl.value.trim();
    const date = dateEl.value.trim();

    const note = noteEl.value;
    const text = textEl.value;

    if(!title){
      setStatus("bad","Missing title");
      return null;
    }
    if(!id){
      id = slugify(title);
      idEl.value = id;
    }
    if(!id){
      setStatus("bad","ID could not be generated");
      return null;
    }

    if(t === "articles" || t === "updates"){
      if(!date || !isValidDDMMYYYY(date)){
        setStatus("bad","Invalid date (DD-MM-YYYY)");
        return null;
      }
    }

    let obj = { id, title };

    if(t === "articles"){
      obj.date = date;
      if(img) obj.img = img;
      if(href) obj.href = href;
      obj.text = text || "";
    }

    if(t === "updates"){
      obj.date = date;
      obj.text = (text || "").trim();
      if(href) obj.href = href;
      obj.pinned = !!pinnedEl.checked;
    }

    if(t === "tools" || t === "apps"){
      if(img) obj.img = img;
      if(href) obj.href = href;
      obj.note = (note || "").trim();
    }

    if(t === "bookmarks"){
      if(img) obj.img = img;
      if(href) obj.href = href;
      obj.note = (note || "").trim();
    }

    return { type: t, obj };
  }

  function toJsObjectLiteral(o){
    const lines = [];
    const pushLine = (k, v) => lines.push(`  ${k}: ${v}`);

    pushLine("id", `"${escapeJsString(o.id)}"`);
    pushLine("title", `"${escapeJsString(o.title)}"`);

    if("date" in o) pushLine("date", `"${escapeJsString(o.date)}"`);
    if("img" in o) pushLine("img", `"${escapeJsString(o.img)}"`);
    if("href" in o) pushLine("href", `"${escapeJsString(o.href)}"`);

    if("text" in o) pushLine("text", `"${escapeJsString(o.text)}"`);
    if("note" in o) pushLine("note", `"${escapeJsString(o.note)}"`);
    if("pinned" in o) pushLine("pinned", o.pinned ? "true" : "false");

    return `{\n${lines.join(",\n")}\n}`;
  }

  function generate(){
    const built = buildObject();
    if(!built) return;

    const literal = toJsObjectLiteral(built.obj);
    outEl.value = literal;

    setStatus("ok","Generated");
  }

  async function copy(){
    const txt = outEl.value.trim();
    if(!txt){
      setStatus("warn","Nothing to copy");
      return;
    }
    try{
      await navigator.clipboard.writeText(txt);
      setStatus("ok","Copied");
    }catch(e){
      outEl.focus();
      outEl.select();
      document.execCommand("copy");
      setStatus("ok","Copied");
    }
  }

  function clearAll(){
    titleEl.value = "";
    idEl.value = "";
    imgEl.value = "";
    hrefEl.value = "";
    noteEl.value = "";
    textEl.value = "";
    pinnedEl.checked = false;
    outEl.value = "";
    setStatus("warn","Ready");
  }

  // init
  dateEl.value = todayDDMMYYYY();
  updateFieldVisibility();

  titleEl.addEventListener("input", () => {
    const t = titleEl.value.trim();
    if(!t) return;
    if(!idEl.value.trim()){
      idEl.value = slugify(t);
    }
  });

  typeEl.addEventListener("change", () => {
    updateFieldVisibility();
    generate();
  });

  $("gen").addEventListener("click", generate);
  $("copy").addEventListener("click", copy);
  $("clear").addEventListener("click", clearAll);
})();
</script>
</body>
</html>
